{"version":3,"file":"01-timer-c1da9bdc.js","sources":["../../src/js/01-timer.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from \"flatpickr\";\n// Додатковий імпорт стилів\nimport \"flatpickr/dist/flatpickr.min.css\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst startBtn = document.querySelector('[data-start]');\nconst timeInput = document.querySelector('#datetime-picker');\nconst daysValue = document.querySelector('[data-days]');\nconst hoursValue = document.querySelector('[data-hours]');\nconst minutesValue = document.querySelector('[data-minutes]');\nconst secondsValue = document.querySelector('[data-seconds]');\n\nstartBtn.disabled = true;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        const userSelectedDate = selectedDates[0];\n        const currentDate = new Date();\n    \n        if (userSelectedDate <= currentDate) {\n          iziToast.warning({title: \"Caution\",\n          message: \"Please choose a date in the future\",\n          position: \"topCenter\"});\n          startBtn.disabled = true;\n        } else {\n          startBtn.disabled = false;\n        }\n      },\n  };\n\nconst flatpickrInstance = flatpickr(\"#datetime-picker\", options);\n\nstartBtn.addEventListener('click', () => {\n    const userSelectedDate = flatpickrInstance.selectedDates[0];\n    const currentDate = new Date();\n    const timeDifference = userSelectedDate.getTime() - currentDate.getTime();\n\n    startBtn.disabled = true;\n\n    startTimer(timeDifference);\n  });\n\nfunction startTimer(timeDifference) {\n    startBtn.disabled = true;\n    timeInput.disabled = true;\n\n    const timerInterval = setInterval(() => {\n      const {days, hours, minutes, seconds} = convertMs(timeDifference);\n      \n      daysValue.textContent = padStartFunc(days);\n      hoursValue.textContent = padStartFunc(hours);\n      minutesValue.textContent = padStartFunc(minutes);\n      secondsValue.textContent = padStartFunc(seconds);\n      \n      timeDifference -= 1000;\n      \n      if (timeDifference < 0) {\n        clearInterval(timerInterval);\n        timeInput.disabled = false;\n      }\n    }, 1000);\n  }\n\nfunction padStartFunc(time){\n    return String(time).padStart(2, '0');\n}\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n  \n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n  \n    return { days, hours, minutes, seconds };\n}\n  "],"names":["startBtn","timeInput","daysValue","hoursValue","minutesValue","secondsValue","options","selectedDates","userSelectedDate","currentDate","iziToast","flatpickrInstance","flatpickr","timeDifference","startTimer","timerInterval","days","hours","minutes","seconds","convertMs","padStartFunc","time","ms"],"mappings":"gDAUA,MAAMA,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,kBAAkB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAe,SAAS,cAAc,gBAAgB,EAE5DL,EAAS,SAAW,GAEpB,MAAMM,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnB,MAAMC,EAAmBD,EAAc,GACjCE,EAAc,IAAI,KAEpBD,GAAoBC,GACtBC,EAAS,QAAQ,CAAC,MAAO,UACzB,QAAS,qCACT,SAAU,WAAW,CAAC,EACtBV,EAAS,SAAW,IAEpBA,EAAS,SAAW,EAEvB,CACP,EAEMW,EAAoBC,EAAU,mBAAoBN,CAAO,EAE/DN,EAAS,iBAAiB,QAAS,IAAM,CACrC,MAAMQ,EAAmBG,EAAkB,cAAc,GACnDF,EAAc,IAAI,KAClBI,EAAiBL,EAAiB,QAAS,EAAGC,EAAY,QAAO,EAEvET,EAAS,SAAW,GAEpBc,EAAWD,CAAc,CAC7B,CAAG,EAEH,SAASC,EAAWD,EAAgB,CAChCb,EAAS,SAAW,GACpBC,EAAU,SAAW,GAErB,MAAMc,EAAgB,YAAY,IAAM,CACtC,KAAM,CAAC,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAIC,EAAUP,CAAc,EAEhEX,EAAU,YAAcmB,EAAaL,CAAI,EACzCb,EAAW,YAAckB,EAAaJ,CAAK,EAC3Cb,EAAa,YAAciB,EAAaH,CAAO,EAC/Cb,EAAa,YAAcgB,EAAaF,CAAO,EAE/CN,GAAkB,IAEdA,EAAiB,IACnB,cAAcE,CAAa,EAC3Bd,EAAU,SAAW,GAExB,EAAE,GAAI,CACR,CAEH,SAASoB,EAAaC,EAAK,CACvB,OAAO,OAAOA,CAAI,EAAE,SAAS,EAAG,GAAG,CACvC,CAEA,SAASF,EAAUG,EAAI,CAMnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAC1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EACpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EACjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}